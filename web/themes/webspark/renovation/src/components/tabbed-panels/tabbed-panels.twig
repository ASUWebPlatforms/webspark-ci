{{ attach_library('renovation/tabbed-panels') }}

<nav class="uds-tabbed-panels uds-content-align {{ is_dark ? 'uds-tabbed-panels-dark' }}" aria-label="tabbed panels">
  <div class="nav nav-tabs" id="nav-tab" role="tablist"  data-scroll-position="0">
    {% for tab in tabs %}
      {% if loop.first %}
        <a class="nav-item nav-link active"
          id="nav-{{ tab.heading|clean_id|lower }}-tab"
          href="#nav-{{ tab.heading|clean_id|lower }}"
          role="tab"
          data-bs-toggle="tab"
          aria-controls="nav-{{ tab.heading|clean_id|lower }}"
          aria-selected="true"
          data-ga-event="link"
          data-ga-action="click"
          data-ga-name="onclick"
          data-ga-type="internal link"
          data-ga-section="{{ label }}"
          data-ga-region="main content"
          data-ga-text="{{ tab.heading }}">
          {{ tab.heading }}
        </a>
      {% else %}
        <a class="nav-item nav-link"
          id="nav-{{ tab.heading|clean_id|lower }}-tab"
          href="#nav-{{ tab.heading|clean_id|lower }}"
          role="tab"
          data-bs-toggle="tab"
          aria-controls="nav-{{ tab.heading|clean_id|lower }}"
          aria-selected="false"
          data-ga-event="link"
          data-ga-action="click"
          data-ga-name="onclick"
          data-ga-type="internal link"
          data-ga-section="{{ label }}"
          data-ga-region="main content"
          data-ga-text="{{ tab.heading }}">
          {{ tab.heading }}
        </a>
      {% endif %}
    {% endfor %}
  </div>
  <a
    class="scroll-control-prev"
    href="#carouselExampleControls"
    role="button"
    data-scroll="prev"
    tabIndex="-1"
    data-ga-event="select"
    data-ga-action="click"
    data-ga-name="onclick"
    data-ga-type="carousel"
    data-ga-section="{{ label }}"
    data-ga-region="main content"
    data-ga-text="left chevron">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </a>
  <a
    class="scroll-control-next"
    href="#carouselExampleControls"
    role="button"
    data-scroll="next"
    tabIndex="-1"
    data-ga-event="select"
    data-ga-action="click"
    data-ga-name="onclick"
    data-ga-type="carousel"
    data-ga-section="{{ label }}"
    data-ga-region="main content"
    data-ga-text="right chevron">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </a>
</nav>

<div class="tab-content" id="nav-tabContent">
  {% for tab in tabs %}
    {% if loop.first %}
      <div
        class="tab-pane fade show active {{ is_dark ? 'text-white' }}"
        id="nav-{{ tab.heading|clean_id|lower }}"
        role="tabpanel"
        aria-labelledby="nav-{{ tab.heading|clean_id|lower }}-tab">
        {{ tab.copy|raw }}
        {{ tab.blocks }}
      </div>
    {% else %}
      <div
        class="tab-pane fade {{ is_dark ? 'text-white' }}"
        id="nav-{{ tab.heading|clean_id|lower }}"
        role="tabpanel"
        aria-labelledby="nav-{{ tab.heading|clean_id|lower }}-tab">
        {{ tab.copy|raw }}
        {{ tab.blocks }}
      </div>
    {% endif %}
  {% endfor %}
</div>
